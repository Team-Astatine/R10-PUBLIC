package org.Astatine.r10.Contents.Restricted.AntiExploit.Interaction.LeverInteraction;

import org.bukkit.entity.Player;

import java.util.Optional;
import java.util.concurrent.ConcurrentHashMap;

public class LeverActionStatus {
    private static class LeverActionStatusHolder {
        private static final LeverActionStatus INSTANCE = new LeverActionStatus();
    }

    public static LeverActionStatus getLeverActionStatus() {
        return LeverActionStatusHolder.INSTANCE;
    }


    private final ConcurrentHashMap<Player, Integer> leverActionUsers;

    public LeverActionStatus() {
        this.leverActionUsers = new ConcurrentHashMap<>();
    }

    public boolean isUserExist(Player player) {
        return Optional.ofNullable(this.leverActionUsers.get(player)).isEmpty();
    }

    public void addLeverActionEvent(Player player, int activeTime) {
        this.leverActionUsers.put(player, activeTime);
    }

    public int getActiveTime(Player player) {
        return this.leverActionUsers.get(player);
    }

    public void removeStatus(Player player) {
        this.leverActionUsers.remove(player);
    }
}
